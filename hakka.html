<html>
  <head>
    <link rel="shortcut icon" href="./img/icon.png">
    <meta charset="utf-8">
    <title>聯合大學客語翻譯系統 / NUU Hakka Translation System</title>
    <meta name="description" content="客語翻譯系統/華客翻譯系統/國客語翻譯系統/客語翻譯">
    <!-- Load Library => jQuery -->
      <script type="text/javascript" src="./lib/jquery/jquery-1.12.4.min.js"></script>
    <!-- Load Library => Bootstrap -->
      <!-- Latest compiled and minified CSS -->
      <link rel="stylesheet" href="./lib/bootstrap/bootstrap.min.css">
      <!-- Optional theme -->
      <link rel="stylesheet" href="./lib/bootstrap/bootstrap-theme.min.css">
      <!-- Latest compiled and minified JavaScript -->
      <script src="./lib/bootstrap/bootstrap.min.js"></script>
    <!-- Dev -->
      <link rel="stylesheet" href="./css/style.css">
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-102560266-2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-102560266-2');
    </script>
  </head>

  <body>


<!-- Messenger 洽談外掛程式 Code -->
    <div id="fb-root"></div>

    <!-- Your 洽談外掛程式 code -->
    <div id="fb-customer-chat" class="fb-customerchat">
    </div>

    <script>
      var chatbox = document.getElementById('fb-customer-chat');
      chatbox.setAttribute("page_id", "105041495533035");
      chatbox.setAttribute("attribution", "biz_inbox");
    </script>

    <!-- Your SDK code -->
    <script>
      window.fbAsyncInit = function() {
        FB.init({
          xfbml            : true,
          version          : 'v13.0'
        });
      };

      (function(d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s); js.id = id;
        js.src = 'https://connect.facebook.net/zh_TW/sdk/xfbml.customerchat.js';
        fjs.parentNode.insertBefore(js, fjs);
      }(document, 'script', 'facebook-jssdk'));
    </script>

    





    <div class="container">
      <div class="row">
        <!-- Top -->
        <div class="col-sm-12">
          <div class="col-sm-12">
            <br>
            <h1>聯合大學客語翻譯系統 / NUU Hakka Translation System</h1>
            <p><a href="https://www.gohakka.org/hakkadic/" target="_blank">客語翻譯系統(多國語言有聲版)</a> || <a href="https://www.gohakka.org/hakkadic_rev/" target="_blank">客語轉華語翻譯系統(測試版)</a> || <a href="https://www.gohakka.org/CSIAP/App/" target="_blank">客語特徵詞標註系統</a>
            <p>請輸入一段文字翻譯成為客語。例如「我是乞丐命皇帝嘴，好吃懶做」、「吃飽了嗎」、「ありがとう！」、「사랑해」。</p>
			<p>Please enter a text to translate into Hakka</p>
          </div>
        </div>
        <!-- Left -->
        <div class="col-sm-12">
          <div class="col-sm-12">
            <select id="input_lang">
              <option value="zh-tw">華文</option>
              <option value="en">English</option>
			  <option value="th">ภาษาไทย</option>
			  <option value="id">Bahasa Indonesia</option>
			  <option value="ms">Melayu</option>
              <option value="ja">日本語</option>
              <option value="ko">한국어</option>
              <option value="vi">Tiếng Việt</option>
            </select>
            <label>：Choose your language</label>
          </div>
          <div class="col-sm-12">
            <textarea class="col-sm-12" id="input_txt"></textarea>
          </div>
          <div class="col-sm-12">
            <br>
          </div>
          <div class="col-sm-12">
            <button class="col-sm-12 btn btn-primary" id="btn_translate"> <span class="glyphicon glyphicon-refresh"></span>&nbsp;&nbsp; 翻譯為客語 Translate into Hakka</button>
          </div>
          <div class="col-sm-12">
            <br>
          </div>
          <div class="col-sm-12">
            <label>客語：Hakka</label>
          </div>
          <div class="col-sm-12">
            <textarea class="col-sm-12" id="output_txt"></textarea>
          </div>
          <div class="col-sm-12">
            <br>
          </div>
          <div class="col-sm-12">
            <label>拼音及發音：Pinyin and pronunciation</label>
          </div>
          <div class="col-sm-12">
            <textarea class="col-sm-12" id="pinyin_output_txt"></textarea>
          </div>
          <div class="col-sm-12">
            <br>
          </div>
          <div class="col-sm-12">
            <button class="col-sm-12 btn btn-primary" id="btn_play"> <span class="glyphicon glyphicon-headphones"></span>&nbsp;&nbsp; 聆聽發音 Listen to pronunciation</button>
          </div>
          <div class="col-sm-12">
            <br><br>
          </div>
        </div>
        <!-- Right -->

        <!-- Buttom -->
        <div class="col-sm-6">
          <div class="col-sm-12">
            <label>意見回饋：Feedback</label>
          </div>
          <div class="col-sm-12">
            <textarea class="col-sm-12" id="feedback_txt"></textarea>
          </div>
          <div class="col-sm-12"><br></div>
          <div class="col-sm-12">
            <button class="col-sm-12 btn btn-success" id="btn_feedback_submit"> <span class="glyphicon glyphicon glyphicon-send"></span>&nbsp;&nbsp; 提交 Submit</button>
          </div>
          <div class="col-sm-12"><br></div>
          <div class="col-sm-12">
            <p>亦可請點擊此 <a href="https://www.facebook.com/gohakka.org/" target="_blank">粉絲專頁</a> 連結與我們討論，恁仔細。</p>
          </div>
          
        </div>
        <div class="col-sm-6">
          <div class="col-sm-12 foot">
            <!--<p><a href="https://www.gohakka.org/hakkadic_rev/" target="_blank">客語轉華語翻譯系統(測試版)</a>-->
            <!--<p><a href="https://www.gohakka.org/CSIAP/App/" target="_blank">客語特徵詞標註系統</a>-->
            <p>系統設計開發：<br>國立聯合大學 客家研究學院 文化創意與數位行銷學系<br>智慧客家實驗室</p>
            <p>計畫團隊成員：聯大客院文創系 張陳基教授、許雲翔專案助理</p>
            <p>客語翻譯語料庫編撰整理：聯大客院文創系 徐煥昇教授</p>
            <p>客語TTS語音技術支援：<a href="https://ithuan.tw/" target=_blank>意傳文化科技</a></p>
            <p>客語字型支援：<a href="https://tauhu.tw/ji-hing/" target=_blank>豆腐烏</a> 20.05 © 2018-2020 再會豆腐字</p>
            <p>College of Hakka Studies<br>
            Department of Culture Creativity and Digital Marketing<br>
            National United University<br>
            E-mail kiwi@gm.nuu.edu.tw</p>
          </div>
        </div>
        <div class="col-sm-12">
          <br><br>
        </div>
      </div>
    </div>

    <script>
      function get_pinyin(zh_ha)
      {
        $.ajax({
          url: "https://hts.ithuan.tw/標漢字音標?查詢腔口=四縣腔&查詢語句=" + zh_ha,
          type: "get",
          datatype:"json",
          success: function(response){
            $("#pinyin_output_txt").val(response.分詞);
          }
        });
      }

      $("#btn_translate").bind("click",
        function(){
          $.ajax({
            url: "./translate.py",
            type: "post",
            datatype:"json",
            data: {
              'input_lang': $("#input_lang").val(),
              'input_txt': $("#input_txt").val()
            },
            success: function(response){
              $("#output_txt").val(response.zh_ha);
              get_pinyin(response.zh_ha);
            },
            error: function(response){ alert("非常抱歉，目前伺服器出現錯誤。\n請稍後再試，或聯繫網站管理者。"); }
          });
        }
      );

      $("#btn_play").bind("click",
        function(){
          new Audio("https://hts.ithuan.tw/語音合成?查詢腔口=四縣腔&查詢語句=" + $("#pinyin_output_txt").val()).play();
        }
      );

      $("#btn_feedback_submit").bind("click",
        function(){
          $.ajax({
            url: "./feedback.py",
            type: "post",
            datatype:"json",
            data: {'feedback_txt':$("#feedback_txt").val()},
            success: function(response){ alert("已收到您的回饋，謝謝您！"); }
          });
        }
      );

    </script>

  </body>
</html>
